<!DOCTYPE html>
<html>
<head>
    <title>GreasedLine Test - Master's Grid Debug</title>
    <style>
        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        #renderCanvas { width: 100%; height: 100vh; display: block; }
        #info { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.7); color: white; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <div id="info">Spanky's GreasedLine Test for Master</div>
    <canvas id="renderCanvas"></canvas>
    
    <script src="/cutlist/libs/babylon.js"></script>
    <script src="/cutlist/libs/babylon.greasedLine.js"></script>
    
    <script>
        console.log('ðŸ”§ SPANKY TEST: Starting GreasedLine test for Master');
        
        const canvas = document.getElementById('renderCanvas');
        const engine = new BABYLON.Engine(canvas, true);
        const scene = new BABYLON.Scene(engine);
        
        // Check if GreasedLine is available
        console.log('ðŸ”§ SPANKY TEST: BABYLON.GreasedLineBuilder available?', !!BABYLON.GreasedLineBuilder);
        console.log('ðŸ”§ SPANKY TEST: Available BABYLON properties:', Object.keys(BABYLON).filter(k => k.includes('Grease')));
        
        // Create camera
        const camera = new BABYLON.ArcRotateCamera("camera", -Math.PI/2, Math.PI/3, 10, BABYLON.Vector3.Zero(), scene);
        camera.attachToCanvas(canvas, true);
        
        // Create light
        const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);
        
        try {
            // Try to create a simple GreasedLine
            if (BABYLON.GreasedLineBuilder) {
                console.log('ðŸ”§ SPANKY TEST: Creating GreasedLine...');
                const testLine = BABYLON.GreasedLineBuilder.CreateGreasedLine("testLine", {
                    points: [
                        new BABYLON.Vector3(-5, 0, 0),
                        new BABYLON.Vector3(5, 0, 0)
                    ]
                }, {
                    width: 5,
                    color: new BABYLON.Color3(1, 0, 0),
                    sizeAttenuation: false
                }, scene);
                
                console.log('ðŸ”§ SPANKY TEST: GreasedLine created successfully!', testLine);
                document.getElementById('info').innerHTML = 'SUCCESS: GreasedLine is working for Master!';
            } else {
                console.error('ðŸ”§ SPANKY TEST: GreasedLineBuilder not found');
                document.getElementById('info').innerHTML = 'ERROR: GreasedLineBuilder not available';
            }
        } catch (error) {
            console.error('ðŸ”§ SPANKY TEST: Error creating GreasedLine:', error);
            document.getElementById('info').innerHTML = 'ERROR: ' + error.message;
        }
        
        // Start render loop
        engine.runRenderLoop(() => scene.render());
        
        // Handle resize
        window.addEventListener('resize', () => engine.resize());
    </script>
</body>
</html>
